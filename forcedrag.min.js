window.forcedrag=function(a){var b={};return b.selector=null,b.element=null,b.maxWidth=null,b.maxHeight=null,b.inverted=!1,b.firstEventCoords=null,b.lastEventCoords=null,b.callbacks={down:null,move:null,up:null},b.init=function(a){if(a){if(b.selector=a.selector,!b.selector)throw"Error, no selector specified";a.down&&(b.callbacks.down=a.down),a.move&&(b.callbacks.move=a.move),a.up&&(b.callbacks.up=a.up),a.inverted&&(b.inverted=a.inverted)}b.initElement()},b.initListeners=function(){var a=b.element.addEventListener;a("mousedown",b.down),a("mousemove",b.move),a("mouseup",b.up),a("touchstart",b.down),a("touchmove",b.move),a("touchend",b.up)},b.initElement=function(){if(b.element=document.querySelector(b.selector),!b.element)throw"Error, no element found with the selector '"+b.selector+"'";b.maxWidth=b.element.clientWidth,b.maxHeight=b.element.clientHeight,b.initListeners()},b.down=function(a){var c=b.getCoordinateOfEvent(a);b.firstEventCoords=c,b.lastEventCoords=c,"function"==typeof b.callbacks.down&&b.callbacks.down({coords:c})},b.move=function(a){if(b.firstEventCoords){var c=b.getCoordinateOfEvent(a);b.lastEventCoords=c;var d=b.getAngleBetweenCoordinates(b.firstEventCoords,c),e=b.getForceBetweenCoordinates(b.firstEventCoords,c);"function"==typeof b.callbacks.move&&b.callbacks.move({coords:c,angle:d,force:e,coordsFirstEvent:b.firstEventCoords})}},b.up=function(a){if(b.firstEventCoords){var c=b.getCoordinateOfEvent(a);b.lastEventCoords=c;var d=b.getAngleBetweenCoordinates(b.firstEventCoords,c),e=b.getForceBetweenCoordinates(b.firstEventCoords,c);"function"==typeof b.callbacks.up&&b.callbacks.up({coords:c,angle:d,force:e,coordsFirstEvent:b.firstEventCoords}),b.firstEventCoords=null}},b.getCoordinateOfEvent=function(a){var c,d;if(a.touches&&a.touches.length>0)c=a.touches[0].clientX,d=a.touches[0].clientY;else{if(!a.clientX||!a.clientY)return b.lastEventCoords;c=a.clientX,d=a.clientY}return{x:c,y:d}},b.getAngleBetweenCoordinates=function(a,c){var d=a.x-c.x,e=a.y-c.y,f=Math.atan2(d,e)*-180/Math.PI+90;return f<0&&(f=360+f),b.inverted&&(f+=180),f>=360&&(f-=360),f},b.getForceBetweenCoordinates=function(a,c){var d=a.x-c.x,e=a.y-c.y,f=Math.sqrt(Math.pow(d,2)+Math.pow(e,2)),g=Math.sqrt(Math.pow(b.maxWidth,2)+Math.pow(b.maxHeight,2)),h=f/g;return h},b.init(a),b};